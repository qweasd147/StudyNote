# Squash (rebase)

### 사용목적

커밋을 여러번 한 이후에 나중에 커밋 한 내용을 합치고 싶을 경우가 있을 것이다. 개인적으로 기능 개발 이후에 중간중간 자체 테스트 중 자잘한 버그 수정 등의 작업이 이루어진 케이스가 많다. 이러한 자잘한 버그 수정같은 경우에는 히스토리 관리하기에는 창피하기도 하고... 깃 그래프도 보기 좋지 않아서 종종 이러한 커밋들을 합쳐넣기도 한다.

일단 `squash`로 커밋을 합칠땐 원격지로 `push`여부는 상관없이 합칠 수가 있다. 그래서 일단 로컬에서 합쳐놓고 `push`하면 작업한 내용들이 합쳐져서 올라간다. 근데 만약 원격지로 `push`하지 않고 로컬에서 작업한 것들을 합칠땐 구지 귀찮게 `squash`로 합치진 않고 개인적으로 그냥 `reset`기능에 `mixed`옵션을 줘서 지정된 커밋까지 커밋을 취소하고 작업한다.

#### case 1. 커밋한 내용들이 원격지로 push 되었을 경우
> `squash`를 사용해서 커밋한 내용들을 합치고 난 후, `push`한다.

#### case 2. 커밋한 내용들이 원격지로 push 까진 안한경우
> `reset`를 사용해서 지정된 커밋으로 되돌리고 소스 수정 후, `push`한다.
```
$ git reset --mixed [커밋 고유 ID]
```

사실 이거나 저거나 고만고만하고 reset이 조금 더 편하긴 하지만, 이번 목적은 `squash`를 사용해서 커밋을 합치는게 목표니까 `reset`기능은 사용하지 않을것이다.

```
$ git rebase -i HEAD~3
```

**To be continued**